# ============================================================
# MindSpider 环境变量配置
# 复制此文件为 .env 并填入实际值
# ============================================================

# ========================
# MongoDB 配置 (表层采集原始数据存储)
# ========================
MONGO_URI=mongodb://10.168.1.80:27018
MONGO_DB_NAME=mindspider_raw

# ========================
# 数据库配置 (MySQL/PostgreSQL)
# ========================
# 支持 mysql 或 postgresql
DB_DIALECT=mysql
DB_HOST=10.168.1.80
DB_PORT=3306
DB_USER=root
DB_PASSWORD=Tangwei7311Yeti.
DB_NAME=fish
DB_CHARSET=utf8mb4

# PostgreSQL 示例:
# DB_DIALECT=postgresql
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=your_password
# DB_NAME=mindspider

# ========================
# AI API 配置 (话题提取)
# ========================
# 推荐使用 DeepSeek API，性价比高
MINDSPIDER_API_KEY=sk-your-api-key
MINDSPIDER_BASE_URL=https://api.deepseek.com
MINDSPIDER_MODEL_NAME=deepseek-chat

# 或使用 OpenAI
# MINDSPIDER_API_KEY=sk-your-openai-key
# MINDSPIDER_BASE_URL=https://api.openai.com/v1
# MINDSPIDER_MODEL_NAME=gpt-4o-mini

# ========================
# 代理配置 (可选)
# ========================
# 是否启用代理
ENABLE_IP_PROXY=False

# 代理提供商: kuaidaili | wandouhttp
IP_PROXY_PROVIDER_NAME=kuaidaili

# 快代理配置
KUAIDAILI_USERNAME=your_username
KUAIDAILI_PASSWORD=your_password
KUAIDAILI_SECRET_ID=your_secret_id
KUAIDAILI_SECRET_KEY=your_secret_key

# ========================
# 爬虫配置
# ========================
# 目标平台: xhs | dy | ks | bili | wb | tieba | zhihu
PLATFORM=bili

# 登录方式: qrcode | phone | cookie
LOGIN_TYPE=qrcode

# 预设 Cookie (可选，用于 cookie 登录方式)
COOKIES=

# 无头模式 (True=不显示浏览器, False=显示浏览器)
HEADLESS=True

# CDP模式 (使用真实Chrome浏览器，反检测能力更强)
ENABLE_CDP_MODE=True
CDP_HEADLESS=False

# 数据保存方式: csv | db | json | sqlite | postgresql
SAVE_DATA_OPTION=db

# 每个关键词最大爬取数量
CRAWLER_MAX_NOTES_COUNT=20

# 是否爬取评论
ENABLE_GET_COMMENTS=True

# 每个帖子最大评论数
CRAWLER_MAX_COMMENTS_COUNT_SINGLENOTES=50

# 请求间隔 (秒)
CRAWLER_MAX_SLEEP_SEC=2

# ========================
# Redis 配置 (深层采集任务队列)
# ========================
REDIS_DB_HOST=10.168.1.80
REDIS_DB_PORT=6379
REDIS_DB_PWD=
REDIS_DB_NUM=11

# ========================
# 日志配置
# ========================
LOG_LEVEL=INFO

# ========================
# 深层采集服务配置
# ========================
# Server酱3 SendKey（用于 cookie 过期等告警推送，https://sc3.ft07.com/）
# 需安装 SDK: pip install serverchan-sdk
SERVERCHAN_KEY=

# 登录控制台端口（远程扫码登录用）
LOGIN_CONSOLE_PORT=8777

# 登录控制台访问令牌（防止未授权访问）
LOGIN_CONSOLE_TOKEN=your_random_token_here
