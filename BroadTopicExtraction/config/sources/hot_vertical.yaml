# 行业/垂直榜单配置
# 分类代码: hot_vertical
# 调度频率: 15-60 分钟
#
# 数据源状态说明:
# - official: ✅ 官方 API，最稳定
# - tophub: ✅ 聚合平台，稳定
# - scrapy: ✅ 页面爬取，稳定

# ============================================
# 官方 API (最稳定)
# ============================================

official_juejin:
  display_name: 掘金热榜(官方)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: official
  aggregator_source: juejin
  platform: juejin
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - likes
    - replies
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

# ============================================
# 今日热榜聚合 (稳定)
# ============================================

tophub_36kr:
  display_name: 36氪(今日热榜)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: tophub
  aggregator_source: 36kr
  platform: 36kr
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

tophub_ithome:
  display_name: IT之家(今日热榜)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: tophub
  aggregator_source: ithome
  platform: ithome
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

tophub_huxiu:
  display_name: 虎嗅(今日热榜)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: tophub
  aggregator_source: huxiu
  platform: huxiu
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

tophub_github:
  display_name: GitHub Trending(今日热榜)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: tophub
  aggregator_source: github
  platform: github
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
    - url
  time_varying_fields:
    - stars
    - position
  schedule:
    type: interval
    minutes: 60
  enabled: false  # node_id 已移除，TopHub 不再支持

tophub_douban_movie:
  display_name: 豆瓣电影(今日热榜)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: tophub
  aggregator_source: douban-movie
  platform: douban
  vertical: entertainment
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - rating
    - position
  schedule:
    type: interval
    minutes: 60
  enabled: true

# ============================================
# NewsNow 聚合 - 科技/财经 (稳定)
# ============================================

newsnow_36kr:
  display_name: 36氪(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: 36kr
  platform: 36kr
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_ithome:
  display_name: IT之家(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: ithome
  platform: ithome
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_juejin:
  display_name: 掘金(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: juejin
  platform: juejin
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_sspai:
  display_name: 少数派(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: sspai
  platform: sspai
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 60
  enabled: true

newsnow_v2ex:
  display_name: V2EX(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: v2ex
  platform: v2ex
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_github:
  display_name: GitHub Trending(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: github-trending-today
  platform: github
  vertical: tech
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 60
  enabled: true

newsnow_xueqiu:
  display_name: 雪球热帖(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: xueqiu
  platform: xueqiu
  vertical: finance
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_wallstreetcn:
  display_name: 华尔街见闻(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: wallstreetcn
  platform: wallstreetcn
  vertical: finance
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

newsnow_cls:
  display_name: 财联社热榜(NewsNow)
  category: hot_vertical
  source_type: aggregator
  aggregator_name: newsnow
  aggregator_source: cls-hot
  platform: cls
  vertical: finance
  mongo_collection: aggregator
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 15
  enabled: true

# ============================================
# Scrapy 页面爬取 - 科技 (稳定)
# ============================================

ithome_scrapy:
  display_name: IT之家(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: ithome
  platform: ithome
  vertical: tech
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - replies
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

huxiu_scrapy:
  display_name: 虎嗅(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: huxiu
  platform: huxiu
  vertical: tech
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: false  # 阿里云 WAF 反爬，Scrapy 无法直接访问

kr36_scrapy:
  display_name: 36氪快讯(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: 36kr
  platform: 36kr
  vertical: tech
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 15
  enabled: true

juejin_scrapy:
  display_name: 掘金热榜(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: juejin
  platform: juejin
  vertical: tech
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - likes
    - replies
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: true

# ============================================
# Scrapy 页面爬取 - 财经 (稳定)
# ============================================

cls_scrapy:
  display_name: 财联社电报(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: cls
  platform: cls
  vertical: finance
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - position
  schedule:
    type: interval
    minutes: 10
  enabled: true

xueqiu_scrapy:
  display_name: 雪球热帖(直接爬取)
  category: hot_vertical
  source_type: scrapy
  spider_name: xueqiu
  platform: xueqiu
  vertical: finance
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - hot_value
    - likes
    - replies
    - position
  schedule:
    type: interval
    minutes: 15
  enabled: false  # 阿里云 WAF 反爬，API 需要浏览器 Cookie

# ============================================
# 需要代理/特殊处理的数据源 (默认禁用)
# ============================================

v2ex_hot:
  display_name: V2EX 热门
  category: hot_vertical
  source_type: scrapy
  spider_name: v2ex_hot
  platform: v2ex
  vertical: tech
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - replies
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: false  # 需要代理，容易超时

nga_hot:
  display_name: NGA 热帖
  category: hot_vertical
  source_type: scrapy
  spider_name: nga_hot
  platform: nga
  vertical: game
  mongo_collection: hot_vertical
  dedup_fields:
    - title
  time_varying_fields:
    - replies
    - position
  schedule:
    type: interval
    minutes: 30
  enabled: false  # 反爬严格，需要模拟浏览器
